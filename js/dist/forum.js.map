{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://tohsakarat-post-camera/webpack/bootstrap","webpack://tohsakarat-post-camera/webpack/runtime/compat get default export","webpack://tohsakarat-post-camera/webpack/runtime/define property getters","webpack://tohsakarat-post-camera/webpack/runtime/hasOwnProperty shorthand","webpack://tohsakarat-post-camera/webpack/runtime/make namespace object","webpack://tohsakarat-post-camera/external root \"flarum.core.compat['forum/app']\"","webpack://tohsakarat-post-camera/external root \"flarum.core.compat['common/extend']\"","webpack://tohsakarat-post-camera/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://tohsakarat-post-camera/external root \"flarum.core.compat['forum/utils/PostControls']\"","webpack://tohsakarat-post-camera/external root \"flarum.core.compat['common/components/Button']\"","webpack://tohsakarat-post-camera/./node_modules/modern-screenshot/dist/index.mjs","webpack://tohsakarat-post-camera/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/PostControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","var _e = Object.defineProperty, Ue = Object.defineProperties;\nvar Pe = Object.getOwnPropertyDescriptors;\nvar B = Object.getOwnPropertySymbols;\nvar Z = Object.prototype.hasOwnProperty, ee = Object.prototype.propertyIsEnumerable;\nvar te = Math.pow, Q = (e, t, r) => t in e ? _e(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, T = (e, t) => {\n  for (var r in t || (t = {}))\n    Z.call(t, r) && Q(e, r, t[r]);\n  if (B)\n    for (var r of B(t))\n      ee.call(t, r) && Q(e, r, t[r]);\n  return e;\n}, R = (e, t) => Ue(e, Pe(t));\nvar re = (e, t) => {\n  var r = {};\n  for (var n in e)\n    Z.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n  if (e != null && B)\n    for (var n of B(e))\n      t.indexOf(n) < 0 && ee.call(e, n) && (r[n] = e[n]);\n  return r;\n};\nvar S = (e, t, r) => new Promise((n, a) => {\n  var s = (l) => {\n    try {\n      i(r.next(l));\n    } catch (u) {\n      a(u);\n    }\n  }, o = (l) => {\n    try {\n      i(r.throw(l));\n    } catch (u) {\n      a(u);\n    }\n  }, i = (l) => l.done ? n(l.value) : Promise.resolve(l.value).then(s, o);\n  i((r = r.apply(e, t)).next());\n});\nfunction ue(e, t) {\n  return e[13] = 1, e[14] = t >> 8, e[15] = t & 255, e[16] = t >> 8, e[17] = t & 255, e;\n}\nconst fe = \"p\".charCodeAt(0), de = \"H\".charCodeAt(0), ge = \"Y\".charCodeAt(0), me = \"s\".charCodeAt(0);\nlet j;\nfunction $e() {\n  const e = new Int32Array(256);\n  for (let t = 0; t < 256; t++) {\n    let r = t;\n    for (let n = 0; n < 8; n++)\n      r = r & 1 ? 3988292384 ^ r >>> 1 : r >>> 1;\n    e[t] = r;\n  }\n  return e;\n}\nfunction Be(e) {\n  let t = -1;\n  j || (j = $e());\n  for (let r = 0; r < e.length; r++)\n    t = j[(t ^ e[r]) & 255] ^ t >>> 8;\n  return t ^ -1;\n}\nfunction Le(e) {\n  const t = e.length - 1;\n  for (let r = t; r >= 4; r--)\n    if (e[r - 4] === 9 && e[r - 3] === fe && e[r - 2] === de && e[r - 1] === ge && e[r] === me)\n      return r - 3;\n  return 0;\n}\nfunction he(e, t, r = !1) {\n  const n = new Uint8Array(13);\n  t *= 39.3701, n[0] = fe, n[1] = de, n[2] = ge, n[3] = me, n[4] = t >>> 24, n[5] = t >>> 16, n[6] = t >>> 8, n[7] = t & 255, n[8] = n[4], n[9] = n[5], n[10] = n[6], n[11] = n[7], n[12] = 1;\n  const a = Be(n), s = new Uint8Array(4);\n  if (s[0] = a >>> 24, s[1] = a >>> 16, s[2] = a >>> 8, s[3] = a & 255, r) {\n    const o = Le(e);\n    return e.set(n, o), e.set(s, o + 13), e;\n  } else {\n    const o = new Uint8Array(4);\n    o[0] = 0, o[1] = 0, o[2] = 0, o[3] = 9;\n    const i = new Uint8Array(54);\n    return i.set(e, 0), i.set(o, 33), i.set(n, 37), i.set(s, 50), i;\n  }\n}\nconst Me = \"AAlwSFlz\", Oe = \"AAAJcEhZ\", We = \"AAAACXBI\";\nfunction qe(e) {\n  let t = e.indexOf(Me);\n  return t === -1 && (t = e.indexOf(Oe)), t === -1 && (t = e.indexOf(We)), t;\n}\nconst H = \"[modern-screenshot]\", x = typeof window != \"undefined\", je = x && \"Worker\" in window, we = x && \"atob\" in window, Ve = x && \"btoa\" in window;\nvar le;\nconst z = x ? (le = window.navigator) == null ? void 0 : le.userAgent : \"\", pe = z.includes(\"Chrome\"), L = z.includes(\"AppleWebKit\") && !pe, X = z.includes(\"Firefox\"), He = (e) => e && \"__CONTEXT__\" in e, ze = (e) => e.constructor.name === \"CSSFontFaceRule\", Xe = (e) => e.constructor.name === \"CSSImportRule\", A = (e) => e.nodeType === 1, U = (e) => typeof e.className == \"object\", ye = (e) => e.tagName === \"image\", Ge = (e) => e.tagName === \"use\", G = (e) => A(e) && typeof e.style != \"undefined\" && !U(e), Ye = (e) => e.nodeType === 8, Je = (e) => e.nodeType === 3, D = (e) => e.tagName === \"IMG\", M = (e) => e.tagName === \"VIDEO\", Ke = (e) => e.tagName === \"CANVAS\", ne = (e) => e.tagName === \"TEXTAREA\", Qe = (e) => e.tagName === \"INPUT\", Ze = (e) => e.tagName === \"STYLE\", et = (e) => e.tagName === \"SCRIPT\", tt = (e) => e.tagName === \"SELECT\", rt = (e) => e.tagName === \"SLOT\", nt = (e) => e.tagName === \"IFRAME\", E = (...e) => console.warn(H, ...e), ot = (e) => console.time(`${H} ${e}`), at = (e) => console.timeEnd(`${H} ${e}`), st = (e) => {\n  var r;\n  const t = (r = e == null ? void 0 : e.createElement) == null ? void 0 : r.call(e, \"canvas\");\n  return t && (t.height = t.width = 1), t && \"toDataURL\" in t && Boolean(t.toDataURL(\"image/webp\").includes(\"image/webp\"));\n}, V = (e) => e.startsWith(\"data:\");\nfunction be(e, t) {\n  if (e.match(/^[a-z]+:\\/\\//i))\n    return e;\n  if (x && e.match(/^\\/\\//))\n    return window.location.protocol + e;\n  if (e.match(/^[a-z]+:/i) || !x)\n    return e;\n  const r = O().implementation.createHTMLDocument(), n = r.createElement(\"base\"), a = r.createElement(\"a\");\n  return r.head.appendChild(n), r.body.appendChild(a), t && (n.href = t), a.href = e, a.href;\n}\nfunction O(e) {\n  var t;\n  return (t = e && A(e) ? e == null ? void 0 : e.ownerDocument : e) != null ? t : window.document;\n}\nconst W = \"http://www.w3.org/2000/svg\";\nfunction Se(e, t, r) {\n  const n = O(r).createElementNS(W, \"svg\");\n  return n.setAttributeNS(null, \"width\", e.toString()), n.setAttributeNS(null, \"height\", t.toString()), n.setAttributeNS(null, \"viewBox\", `0 0 ${e} ${t}`), n;\n}\nfunction Ee(e, t) {\n  let r = new XMLSerializer().serializeToString(e);\n  return t && (r = r.replace(/[\\u0000-\\u0008\\u000B\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE\\uFFFF]/ug, \"\")), `data:image/svg+xml;charset=utf-8,${encodeURIComponent(r)}`;\n}\nfunction it(e, t = \"image/png\", r = 1) {\n  return S(this, null, function* () {\n    try {\n      return yield new Promise((n, a) => {\n        e.toBlob((s) => {\n          s ? n(s) : a(new Error(\"Blob is null\"));\n        }, t, r);\n      });\n    } catch (n) {\n      if (we)\n        return E(\"Failed canvas to blob\", { type: t, quality: r }, n), ct(e.toDataURL(t, r));\n      throw n;\n    }\n  });\n}\nfunction ct(e) {\n  var i, l;\n  const [t, r] = e.split(\",\"), n = (l = (i = t.match(/data:(.+);/)) == null ? void 0 : i[1]) != null ? l : void 0, a = window.atob(r), s = a.length, o = new Uint8Array(s);\n  for (let u = 0; u < s; u += 1)\n    o[u] = a.charCodeAt(u);\n  return new Blob([o], { type: n });\n}\nfunction Ce(e, t) {\n  return new Promise((r, n) => {\n    const a = new FileReader();\n    a.onload = () => r(a.result), a.onerror = () => n(a.error), a.onabort = () => n(new Error(`Failed read blob to ${t}`)), t === \"dataUrl\" ? a.readAsDataURL(e) : t === \"arrayBuffer\" && a.readAsArrayBuffer(e);\n  });\n}\nconst lt = (e) => Ce(e, \"dataUrl\"), ut = (e) => Ce(e, \"arrayBuffer\");\nfunction k(e, t) {\n  const r = O(t).createElement(\"img\");\n  return r.decoding = \"sync\", r.loading = \"eager\", r.src = e, r;\n}\nfunction F(e, t) {\n  return new Promise((r) => {\n    const { timeout: n, ownerDocument: a, onError: s } = t != null ? t : {}, o = typeof e == \"string\" ? k(e, O(a)) : e;\n    let i = null, l = null;\n    function u() {\n      r(o), i && clearTimeout(i), l == null || l();\n    }\n    if (n && (i = setTimeout(u, n)), M(o)) {\n      const c = o.currentSrc || o.src;\n      if (!c)\n        return o.poster ? F(o.poster, t).then(r) : u();\n      if (o.readyState >= 2)\n        return u();\n      const f = u, d = (g) => {\n        E(\n          \"Failed video load\",\n          c,\n          g\n        ), s == null || s(g), u();\n      };\n      l = () => {\n        o.removeEventListener(\"loadeddata\", f), o.removeEventListener(\"error\", d);\n      }, o.addEventListener(\"loadeddata\", f, { once: !0 }), o.addEventListener(\"error\", d, { once: !0 });\n    } else {\n      const c = ye(o) ? o.href.baseVal : o.currentSrc || o.src;\n      if (!c)\n        return u();\n      const f = () => S(this, null, function* () {\n        if (D(o) && \"decode\" in o)\n          try {\n            yield o.decode();\n          } catch (g) {\n            E(\n              \"Failed to decode image, trying to render anyway\",\n              o.dataset.originalSrc || c,\n              g\n            );\n          }\n        u();\n      }), d = (g) => {\n        E(\n          \"Failed image load\",\n          o.dataset.originalSrc || c,\n          g\n        ), u();\n      };\n      if (D(o) && o.complete)\n        return f();\n      l = () => {\n        o.removeEventListener(\"load\", f), o.removeEventListener(\"error\", d);\n      }, o.addEventListener(\"load\", f, { once: !0 }), o.addEventListener(\"error\", d, { once: !0 });\n    }\n  });\n}\nfunction ft(e, t) {\n  return S(this, null, function* () {\n    G(e) && (D(e) || M(e) ? yield F(e, { timeout: t }) : yield Promise.all(\n      [\"img\", \"video\"].flatMap((r) => Array.from(e.querySelectorAll(r)).map((n) => F(n, { timeout: t })))\n    ));\n  });\n}\nconst ve = function() {\n  let t = 0;\n  const r = () => (\n    // eslint-disable-next-line no-bitwise\n    `0000${(Math.random() * te(36, 4) << 0).toString(36)}`.slice(-4)\n  );\n  return () => (t += 1, `u${r()}${t}`);\n}();\nfunction Te(e) {\n  return e == null ? void 0 : e.split(\",\").map((t) => t.trim().replace(/\"|'/g, \"\").toLowerCase()).filter(Boolean);\n}\nfunction dt(e) {\n  return {\n    time: (t) => e && ot(t),\n    timeEnd: (t) => e && at(t),\n    warn: (...t) => e && E(...t)\n  };\n}\nfunction gt(e) {\n  return {\n    cache: e ? \"no-cache\" : \"force-cache\"\n  };\n}\nfunction N(e, t) {\n  return S(this, null, function* () {\n    return He(e) ? e : mt(e, R(T({}, t), { autoDestruct: !0 }));\n  });\n}\nfunction mt(e, t) {\n  return S(this, null, function* () {\n    var g, h, w, y, m;\n    const { scale: r = 1, workerUrl: n, workerNumber: a = 1 } = t || {}, s = Boolean(t == null ? void 0 : t.debug), o = (g = t == null ? void 0 : t.features) != null ? g : !0, i = (h = e.ownerDocument) != null ? h : x ? window.document : void 0, l = (y = (w = e.ownerDocument) == null ? void 0 : w.defaultView) != null ? y : x ? window : void 0, u = /* @__PURE__ */ new Map(), c = R(T({\n      // Options\n      width: 0,\n      height: 0,\n      quality: 1,\n      type: \"image/png\",\n      scale: r,\n      backgroundColor: null,\n      style: null,\n      filter: null,\n      maximumCanvasSize: 0,\n      timeout: 3e4,\n      progress: null,\n      debug: s,\n      fetch: T({\n        requestInit: gt((m = t == null ? void 0 : t.fetch) == null ? void 0 : m.bypassingCache),\n        placeholderImage: \"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\n        bypassingCache: !1\n      }, t == null ? void 0 : t.fetch),\n      fetchFn: null,\n      font: {},\n      drawImageInterval: 100,\n      workerUrl: null,\n      workerNumber: a,\n      onCloneNode: null,\n      onEmbedNode: null,\n      onCreateForeignObjectSvg: null,\n      includeStyleProperties: null,\n      autoDestruct: !1\n    }, t), {\n      // InternalContext\n      __CONTEXT__: !0,\n      log: dt(s),\n      node: e,\n      ownerDocument: i,\n      ownerWindow: l,\n      dpi: r === 1 ? null : 96 * r,\n      svgStyleElement: Ae(i),\n      svgDefsElement: i == null ? void 0 : i.createElementNS(W, \"defs\"),\n      svgStyles: /* @__PURE__ */ new Map(),\n      defaultComputedStyles: /* @__PURE__ */ new Map(),\n      workers: [\n        ...new Array(\n          je && n && a ? a : 0\n        )\n      ].map(() => {\n        try {\n          const b = new Worker(n);\n          return b.onmessage = (p) => S(this, null, function* () {\n            var I, J, $, K;\n            const { url: C, result: v } = p.data;\n            v ? (J = (I = u.get(C)) == null ? void 0 : I.resolve) == null || J.call(I, v) : (K = ($ = u.get(C)) == null ? void 0 : $.reject) == null || K.call($, new Error(`Error receiving message from worker: ${C}`));\n          }), b.onmessageerror = (p) => {\n            var v, I;\n            const { url: C } = p.data;\n            (I = (v = u.get(C)) == null ? void 0 : v.reject) == null || I.call(v, new Error(`Error receiving message from worker: ${C}`));\n          }, b;\n        } catch (b) {\n          return E(\"Failed to new Worker\", b), null;\n        }\n      }).filter(Boolean),\n      fontFamilies: /* @__PURE__ */ new Set(),\n      fontCssTexts: /* @__PURE__ */ new Map(),\n      acceptOfImage: `${[\n        st(i) && \"image/webp\",\n        \"image/svg+xml\",\n        \"image/*\",\n        \"*/*\"\n      ].filter(Boolean).join(\",\")};q=0.8`,\n      requests: u,\n      drawImageCount: 0,\n      tasks: [],\n      features: o,\n      isEnable: (b) => {\n        var p;\n        return typeof o == \"boolean\" ? o : (p = o[b]) != null ? p : !0;\n      }\n    });\n    c.log.time(\"wait until load\"), yield ft(e, c.timeout), c.log.timeEnd(\"wait until load\");\n    const { width: f, height: d } = ht(e, c);\n    return c.width = f, c.height = d, c;\n  });\n}\nfunction Ae(e) {\n  if (!e)\n    return;\n  const t = e.createElement(\"style\"), r = t.ownerDocument.createTextNode(`\n.______background-clip--text {\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n`);\n  return t.appendChild(r), t;\n}\nfunction ht(e, t) {\n  let { width: r, height: n } = t;\n  if (A(e) && (!r || !n)) {\n    const a = e.getBoundingClientRect();\n    r = r || a.width || Number(e.getAttribute(\"width\")) || 0, n = n || a.height || Number(e.getAttribute(\"height\")) || 0;\n  }\n  return { width: r, height: n };\n}\nfunction wt(e, t) {\n  return S(this, null, function* () {\n    const {\n      log: r,\n      timeout: n,\n      drawImageCount: a,\n      drawImageInterval: s\n    } = t;\n    r.time(\"image to canvas\");\n    const o = yield F(e, { timeout: n }), { canvas: i, context2d: l } = pt(e.ownerDocument, t), u = () => {\n      try {\n        l == null || l.drawImage(o, 0, 0, i.width, i.height);\n      } catch (c) {\n        E(\"Failed to drawImage\", c);\n      }\n    };\n    if (u(), t.isEnable(\"fixSvgXmlDecode\"))\n      for (let c = 0; c < a; c++)\n        yield new Promise((f) => {\n          setTimeout(() => {\n            u(), f();\n          }, c + s);\n        });\n    return t.drawImageCount = 0, r.timeEnd(\"image to canvas\"), i;\n  });\n}\nfunction pt(e, t) {\n  const { width: r, height: n, scale: a, backgroundColor: s, maximumCanvasSize: o } = t, i = e.createElement(\"canvas\");\n  i.width = Math.floor(r * a), i.height = Math.floor(n * a), i.style.width = `${r}px`, i.style.height = `${n}px`, o && (i.width > o || i.height > o) && (i.width > o && i.height > o ? i.width > i.height ? (i.height *= o / i.width, i.width = o) : (i.width *= o / i.height, i.height = o) : i.width > o ? (i.height *= o / i.width, i.width = o) : (i.width *= o / i.height, i.height = o));\n  const l = i.getContext(\"2d\");\n  return l && s && (l.fillStyle = s, l.fillRect(0, 0, i.width, i.height)), { canvas: i, context2d: l };\n}\nconst yt = [\n  \"width\",\n  \"height\",\n  \"-webkit-text-fill-color\"\n], bt = [\n  \"stroke\",\n  \"fill\"\n];\nfunction Ne(e, t, r) {\n  var y;\n  const { defaultComputedStyles: n, ownerDocument: a } = r, s = e.nodeName.toLowerCase(), o = U(e) && s !== \"svg\", i = o ? bt.map((m) => [m, e.getAttribute(m)]).filter(([, m]) => m !== null) : [], l = [\n    o && \"svg\",\n    s,\n    i.map((m, b) => `${m}=${b}`).join(\",\"),\n    t\n  ].filter(Boolean).join(\":\");\n  if (n.has(l))\n    return n.get(l);\n  let u = r.sandbox;\n  if (!u)\n    try {\n      a && (u = a.createElement(\"iframe\"), u.id = `__SANDBOX__-${ve()}`, u.width = \"0\", u.height = \"0\", u.style.visibility = \"hidden\", u.style.position = \"fixed\", a.body.appendChild(u), (y = u.contentWindow) == null || y.document.write('<!DOCTYPE html><meta charset=\"UTF-8\"><title></title><body>'), r.sandbox = u);\n    } catch (m) {\n      E(\"Failed to create iframe sandbox\", m);\n    }\n  if (!u)\n    return /* @__PURE__ */ new Map();\n  const c = u.contentWindow;\n  if (!c)\n    return /* @__PURE__ */ new Map();\n  const f = c.document;\n  let d, g;\n  o ? (d = f.createElementNS(W, \"svg\"), g = d.ownerDocument.createElementNS(d.namespaceURI, s), i.forEach(([m, b]) => {\n    g.setAttributeNS(null, m, b);\n  }), d.appendChild(g)) : d = g = f.createElement(s), g.textContent = \" \", f.body.appendChild(d);\n  const h = c.getComputedStyle(g, t), w = /* @__PURE__ */ new Map();\n  for (let m = h.length, b = 0; b < m; b++) {\n    const p = h.item(b);\n    yt.includes(p) || w.set(p, h.getPropertyValue(p));\n  }\n  return f.body.removeChild(d), n.set(l, w), w;\n}\nfunction Ie(e, t, r) {\n  var i;\n  const n = /* @__PURE__ */ new Map(), a = [], s = /* @__PURE__ */ new Map();\n  if (r)\n    for (const l of r)\n      o(l);\n  else\n    for (let l = e.length, u = 0; u < l; u++) {\n      const c = e.item(u);\n      o(c);\n    }\n  for (let l = a.length, u = 0; u < l; u++)\n    (i = s.get(a[u])) == null || i.forEach((c, f) => n.set(f, c));\n  function o(l) {\n    const u = e.getPropertyValue(l), c = e.getPropertyPriority(l), f = l.lastIndexOf(\"-\"), d = f > -1 ? l.substring(0, f) : void 0;\n    if (d) {\n      let g = s.get(d);\n      g || (g = /* @__PURE__ */ new Map(), s.set(d, g)), g.set(l, [u, c]);\n    }\n    t.get(l) === u && !c || (d ? a.push(d) : n.set(l, [u, c]));\n  }\n  return n;\n}\nconst St = [\n  \":before\",\n  \":after\"\n  // ':placeholder', TODO\n], Et = [\n  \":-webkit-scrollbar\",\n  \":-webkit-scrollbar-button\",\n  // ':-webkit-scrollbar:horizontal', TODO\n  \":-webkit-scrollbar-thumb\",\n  \":-webkit-scrollbar-track\",\n  \":-webkit-scrollbar-track-piece\",\n  // ':-webkit-scrollbar:vertical', TODO\n  \":-webkit-scrollbar-corner\",\n  \":-webkit-resizer\"\n];\nfunction Ct(e, t, r, n) {\n  const { ownerWindow: a, svgStyleElement: s, svgStyles: o, currentNodeStyle: i } = n;\n  if (!s || !a)\n    return;\n  function l(u) {\n    var b;\n    const c = a.getComputedStyle(e, u);\n    let f = c.getPropertyValue(\"content\");\n    if (!f || f === \"none\")\n      return;\n    f = f.replace(/(')|(\")|(counter\\(.+\\))/g, \"\");\n    const d = [ve()], g = Ne(e, u, n);\n    i == null || i.forEach((p, C) => {\n      g.delete(C);\n    });\n    const h = Ie(c, g, n.includeStyleProperties);\n    h.delete(\"content\"), h.delete(\"-webkit-locale\"), ((b = h.get(\"background-clip\")) == null ? void 0 : b[0]) === \"text\" && t.classList.add(\"______background-clip--text\");\n    const w = [\n      `content: '${f}';`\n    ];\n    if (h.forEach(([p, C], v) => {\n      w.push(`${v}: ${p}${C ? \" !important\" : \"\"};`);\n    }), w.length === 1)\n      return;\n    try {\n      t.className = [t.className, ...d].join(\" \");\n    } catch (p) {\n      return;\n    }\n    const y = w.join(`\n  `);\n    let m = o.get(y);\n    m || (m = [], o.set(y, m)), m.push(`.${d[0]}:${u}`);\n  }\n  St.forEach(l), r && Et.forEach(l);\n}\nfunction vt(e, t) {\n  ne(e) && (t.innerHTML = e.value), (ne(e) || Qe(e) || tt(e)) && t.setAttribute(\"value\", e.value);\n}\nfunction Tt(e, t, r, n) {\n  var f, d, g, h;\n  const { ownerWindow: a, includeStyleProperties: s, currentParentNodeStyle: o } = n, i = t.style, l = a.getComputedStyle(e), u = Ne(e, null, n);\n  o == null || o.forEach((w, y) => {\n    u.delete(y);\n  });\n  const c = Ie(l, u, s);\n  return c.delete(\"transition-property\"), c.delete(\"all\"), c.delete(\"d\"), c.delete(\"content\"), r && (c.delete(\"margin-top\"), c.delete(\"margin-right\"), c.delete(\"margin-bottom\"), c.delete(\"margin-left\"), c.delete(\"margin-block-start\"), c.delete(\"margin-block-end\"), c.delete(\"margin-inline-start\"), c.delete(\"margin-inline-end\"), c.set(\"box-sizing\", [\"border-box\", \"\"])), ((f = c.get(\"background-clip\")) == null ? void 0 : f[0]) === \"text\" && t.classList.add(\"______background-clip--text\"), pe && (c.has(\"font-kerning\") || c.set(\"font-kerning\", [\"normal\", \"\"]), (((d = c.get(\"overflow-x\")) == null ? void 0 : d[0]) === \"hidden\" || ((g = c.get(\"overflow-y\")) == null ? void 0 : g[0]) === \"hidden\") && ((h = c.get(\"text-overflow\")) == null ? void 0 : h[0]) === \"ellipsis\" && e.scrollWidth === e.clientWidth && c.set(\"text-overflow\", [\"clip\", \"\"])), c.forEach(([w, y], m) => {\n    i.setProperty(m, w, y);\n  }), c;\n}\nfunction At(e, t) {\n  var r;\n  try {\n    if ((r = e == null ? void 0 : e.contentDocument) != null && r.body)\n      return q(e.contentDocument.body, t);\n  } catch (n) {\n    E(\"Failed to clone iframe\", n);\n  }\n  return e.cloneNode(!1);\n}\nfunction xe(e) {\n  if (e.ownerDocument)\n    try {\n      const a = e.toDataURL();\n      if (a !== \"data:,\")\n        return k(a, e.ownerDocument);\n    } catch (a) {\n    }\n  const t = e.cloneNode(!1), r = e.getContext(\"2d\"), n = t.getContext(\"2d\");\n  try {\n    return r && n && n.putImageData(\n      r.getImageData(0, 0, e.width, e.height),\n      0,\n      0\n    ), t;\n  } catch (a) {\n    E(\"Failed to clone canvas\", a);\n  }\n  return t;\n}\nfunction Nt(e) {\n  return S(this, null, function* () {\n    if (e.ownerDocument && !e.currentSrc && e.poster)\n      return k(e.poster, e.ownerDocument);\n    const t = e.cloneNode(!1);\n    t.crossOrigin = \"anonymous\", e.currentSrc && e.currentSrc !== e.src && (t.src = e.currentSrc);\n    const r = t.ownerDocument;\n    if (r) {\n      let n = !0;\n      if (yield F(t, {\n        onError: () => n = !1\n      }), !n)\n        return e.poster ? k(e.poster, e.ownerDocument) : t;\n      t.currentTime = e.currentTime, yield new Promise((s) => {\n        t.addEventListener(\"seeked\", s, { once: !0 });\n      });\n      const a = r.createElement(\"canvas\");\n      a.width = e.offsetWidth, a.height = e.offsetHeight;\n      try {\n        const s = a.getContext(\"2d\");\n        s && s.drawImage(t, 0, 0, a.width, a.height);\n      } catch (s) {\n        return E(\"Failed to clone video\", s), e.poster ? k(e.poster, e.ownerDocument) : t;\n      }\n      return xe(a);\n    }\n    return t;\n  });\n}\nfunction It(e) {\n  const t = e.cloneNode(!1);\n  return e.currentSrc && e.currentSrc !== e.src && (t.src = e.currentSrc, t.srcset = \"\"), t.loading === \"lazy\" && (t.loading = \"eager\"), t;\n}\nfunction xt(e, t) {\n  return Ke(e) ? xe(e) : nt(e) ? At(e, t) : D(e) ? It(e) : M(e) ? Nt(e) : e.cloneNode(!1);\n}\nconst oe = /* @__PURE__ */ new Set([\n  \"symbol\"\n  // test/fixtures/svg.symbol.html\n]);\nfunction ae(e, t, r) {\n  return S(this, null, function* () {\n    A(t) && (Ze(t) || et(t)) || r.filter && !r.filter(t) || (oe.has(e.nodeName) || oe.has(t.nodeName) ? r.currentParentNodeStyle = void 0 : r.currentParentNodeStyle = r.currentNodeStyle, e.appendChild(yield q(t, r)));\n  });\n}\nfunction se(e, t, r) {\n  return S(this, null, function* () {\n    var a, s;\n    const n = (s = A(e) ? (a = e.shadowRoot) == null ? void 0 : a.firstChild : void 0) != null ? s : e.firstChild;\n    for (let o = n; o; o = o.nextSibling)\n      if (!Ye(o))\n        if (A(o) && rt(o) && typeof o.assignedNodes == \"function\") {\n          const i = o.assignedNodes();\n          for (let l = 0; l < i.length; l++)\n            yield ae(t, i[l], r);\n        } else\n          yield ae(t, o, r);\n  });\n}\nfunction kt(e, t) {\n  const { backgroundColor: r, width: n, height: a, style: s } = t, o = e.style;\n  if (r && o.setProperty(\"background-color\", r, \"important\"), n && o.setProperty(\"width\", `${n}px`, \"important\"), a && o.setProperty(\"height\", `${a}px`, \"important\"), s)\n    for (const i in s)\n      o[i] = s[i];\n}\nconst Rt = /^[\\w-:]+$/;\nfunction q(e, t, r = !1) {\n  return S(this, null, function* () {\n    var i, l, u, c;\n    const { ownerDocument: n, ownerWindow: a, fontFamilies: s } = t;\n    if (n && Je(e))\n      return n.createTextNode(e.data);\n    if (n && a && A(e) && (G(e) || U(e))) {\n      const f = yield xt(e, t);\n      if (t.isEnable(\"removeAbnormalAttributes\")) {\n        const h = f.getAttributeNames();\n        for (let w = h.length, y = 0; y < w; y++) {\n          const m = h[y];\n          Rt.test(m) || f.removeAttribute(m);\n        }\n      }\n      const d = t.currentNodeStyle = Tt(e, f, r, t);\n      r && kt(f, t);\n      let g = !1;\n      if (t.isEnable(\"copyScrollbar\")) {\n        const h = [\n          (i = d.get(\"overflow-x\")) == null ? void 0 : i[0],\n          (l = d.get(\"overflow-y\")) == null ? void 0 : l[1]\n        ];\n        g = h.includes(\"scroll\") || (h.includes(\"auto\") || h.includes(\"overlay\")) && (e.scrollHeight > e.clientHeight || e.scrollWidth > e.clientWidth);\n      }\n      return Ct(e, f, g, t), vt(e, f), (c = Te((u = d.get(\"font-family\")) == null ? void 0 : u[0])) == null || c.forEach((h) => s.add(h)), M(e) || (yield se(e, f, t)), f;\n    }\n    const o = e.cloneNode(!1);\n    return yield se(e, o, t), o;\n  });\n}\nfunction Dt(e) {\n  if (e.ownerDocument = void 0, e.ownerWindow = void 0, e.svgStyleElement = void 0, e.svgDefsElement = void 0, e.svgStyles.clear(), e.defaultComputedStyles.clear(), e.sandbox) {\n    try {\n      e.sandbox.remove();\n    } catch (t) {\n    }\n    e.sandbox = void 0;\n  }\n  e.workers = [], e.fontFamilies.clear(), e.fontCssTexts.clear(), e.requests.clear(), e.tasks = [];\n}\nfunction Ft(e) {\n  const i = e, { url: t, timeout: r, responseType: n } = i, a = re(i, [\"url\", \"timeout\", \"responseType\"]), s = new AbortController(), o = r ? setTimeout(() => s.abort(), r) : void 0;\n  return fetch(t, T({ signal: s.signal }, a)).then((l) => {\n    if (!l.ok)\n      throw new Error(\"Failed fetch, not 2xx response\", { cause: l });\n    switch (n) {\n      case \"dataUrl\":\n        return l.blob().then(lt);\n      case \"text\":\n      default:\n        return l.text();\n    }\n  }).finally(() => clearTimeout(o));\n}\nfunction _(e, t) {\n  const { url: r, requestType: n = \"text\", responseType: a = \"text\", imageDom: s } = t;\n  let o = r;\n  const {\n    timeout: i,\n    acceptOfImage: l,\n    requests: u,\n    fetchFn: c,\n    fetch: {\n      requestInit: f,\n      bypassingCache: d,\n      placeholderImage: g\n    },\n    workers: h\n  } = e;\n  n === \"image\" && (L || X) && e.drawImageCount++;\n  let w = u.get(r);\n  if (!w) {\n    d && d instanceof RegExp && d.test(o) && (o += (/\\?/.test(o) ? \"&\" : \"?\") + new Date().getTime());\n    const y = T({\n      url: o,\n      timeout: i,\n      responseType: a,\n      headers: n === \"image\" ? { accept: l } : void 0\n    }, f);\n    w = {\n      type: n,\n      resolve: void 0,\n      reject: void 0,\n      response: null\n    }, w.response = (() => S(this, null, function* () {\n      if (c && n === \"image\") {\n        const m = yield c(r);\n        if (m)\n          return m;\n      }\n      return !L && r.startsWith(\"http\") && h.length ? new Promise((m, b) => {\n        h[u.size & h.length - 1].postMessage(T({ rawUrl: r }, y)), w.resolve = m, w.reject = b;\n      }) : Ft(y);\n    }))().catch((m) => {\n      if (u.delete(r), n === \"image\" && g)\n        return E(\"Failed to fetch image base64, trying to use placeholder image\", o), typeof g == \"string\" ? g : g(s);\n      throw m;\n    }), u.set(r, w);\n  }\n  return w.response;\n}\nfunction ke(e, t, r, n) {\n  return S(this, null, function* () {\n    if (!Re(e))\n      return e;\n    for (const [a, s] of _t(e, t))\n      try {\n        const o = yield _(\n          r,\n          {\n            url: s,\n            requestType: n ? \"image\" : \"text\",\n            responseType: \"dataUrl\"\n          }\n        );\n        e = e.replace(Ut(a), `$1${o}$3`);\n      } catch (o) {\n        E(\"Failed to fetch css data url\", a, o);\n      }\n    return e;\n  });\n}\nfunction Re(e) {\n  return /url\\((['\"]?)([^'\"]+?)\\1\\)/.test(e);\n}\nconst De = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nfunction _t(e, t) {\n  const r = [];\n  return e.replace(De, (n, a, s) => (r.push([s, be(s, t)]), n)), r.filter(([n]) => !V(n));\n}\nfunction Ut(e) {\n  const t = e.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n  return new RegExp(`(url\\\\(['\"]?)(${t})(['\"]?\\\\))`, \"g\");\n}\nfunction Pt(e, t) {\n  return S(this, null, function* () {\n    const {\n      ownerDocument: r,\n      svgStyleElement: n,\n      fontFamilies: a,\n      fontCssTexts: s,\n      tasks: o,\n      font: i\n    } = t;\n    if (!(!r || !n || !a.size))\n      if (i && i.cssText) {\n        const l = ce(i.cssText, t);\n        n.appendChild(r.createTextNode(`${l}\n`));\n      } else {\n        const l = Array.from(r.styleSheets).filter((c) => {\n          try {\n            return \"cssRules\" in c && Boolean(c.cssRules.length);\n          } catch (f) {\n            return E(`Error while reading CSS rules from ${c.href}`, f), !1;\n          }\n        });\n        yield Promise.all(\n          l.flatMap((c) => Array.from(c.cssRules).map((f, d) => S(this, null, function* () {\n            if (Xe(f)) {\n              let g = d + 1;\n              const h = f.href;\n              let w = \"\";\n              try {\n                w = yield _(t, {\n                  url: h,\n                  requestType: \"text\",\n                  responseType: \"text\"\n                });\n              } catch (m) {\n                E(`Error fetch remote css import from ${h}`, m);\n              }\n              const y = w.replace(\n                De,\n                (m, b, p) => m.replace(p, be(p, h))\n              );\n              for (const m of Bt(y))\n                try {\n                  c.insertRule(\n                    m,\n                    m.startsWith(\"@import\") ? g += 1 : c.cssRules.length\n                  );\n                } catch (b) {\n                  E(\"Error inserting rule from remote css import\", { rule: m, error: b });\n                }\n            }\n          })))\n        ), l.flatMap((c) => Array.from(c.cssRules)).filter((c) => {\n          var f;\n          return ze(c) && Re(c.style.getPropertyValue(\"src\")) && ((f = Te(c.style.getPropertyValue(\"font-family\"))) == null ? void 0 : f.some((d) => a.has(d)));\n        }).forEach((c) => {\n          const f = c, d = s.get(f.cssText);\n          d ? n.appendChild(r.createTextNode(`${d}\n`)) : o.push(\n            ke(\n              f.cssText,\n              f.parentStyleSheet ? f.parentStyleSheet.href : null,\n              t\n            ).then((g) => {\n              g = ce(g, t), s.set(f.cssText, g), n.appendChild(r.createTextNode(`${g}\n`));\n            })\n          );\n        });\n      }\n  });\n}\nconst $t = /(\\/\\*[\\s\\S]*?\\*\\/)/gi, ie = /((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})/gi;\nfunction Bt(e) {\n  if (e == null)\n    return [];\n  const t = [];\n  let r = e.replace($t, \"\");\n  for (; ; ) {\n    const s = ie.exec(r);\n    if (!s)\n      break;\n    t.push(s[0]);\n  }\n  r = r.replace(ie, \"\");\n  const n = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi, a = new RegExp(\n    \"((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})\",\n    \"gi\"\n  );\n  for (; ; ) {\n    let s = n.exec(r);\n    if (s)\n      a.lastIndex = n.lastIndex;\n    else if (s = a.exec(r), s)\n      n.lastIndex = a.lastIndex;\n    else\n      break;\n    t.push(s[0]);\n  }\n  return t;\n}\nconst Lt = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g, Mt = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nfunction ce(e, t) {\n  const { font: r } = t, n = r ? r == null ? void 0 : r.preferredFormat : void 0;\n  return n ? e.replace(Mt, (a) => {\n    for (; ; ) {\n      const [s, , o] = Lt.exec(a) || [];\n      if (!o)\n        return \"\";\n      if (o === n)\n        return `src: ${s};`;\n    }\n  }) : e;\n}\nfunction Ot(e, t) {\n  if (D(e)) {\n    const r = e.currentSrc || e.src;\n    if (!V(r))\n      return [\n        _(t, {\n          url: r,\n          imageDom: e,\n          requestType: \"image\",\n          responseType: \"dataUrl\"\n        }).then((n) => {\n          n && (e.srcset = \"\", e.dataset.originalSrc = r, e.src = n || \"\");\n        })\n      ];\n    (L || X) && t.drawImageCount++;\n  } else if (U(e) && !V(e.href.baseVal)) {\n    const r = e.href.baseVal;\n    return [\n      _(t, {\n        url: r,\n        imageDom: e,\n        requestType: \"image\",\n        responseType: \"dataUrl\"\n      }).then((n) => {\n        n && (e.dataset.originalSrc = r, e.href.baseVal = n || \"\");\n      })\n    ];\n  }\n  return [];\n}\nconst Wt = [\n  \"background-image\",\n  \"border-image-source\",\n  \"-webkit-border-image\",\n  \"-webkit-mask-image\",\n  \"list-style-image\"\n];\nfunction qt(e, t) {\n  return Wt.map((r) => {\n    const n = e.getPropertyValue(r);\n    return !n || n === \"none\" ? null : ((L || X) && t.drawImageCount++, ke(n, null, t, !0).then((a) => {\n      !a || n === a || e.setProperty(\n        r,\n        a,\n        e.getPropertyPriority(r)\n      );\n    }));\n  }).filter(Boolean);\n}\nfunction jt(e, t) {\n  var i;\n  const { ownerDocument: r, svgDefsElement: n } = t, a = (i = e.getAttribute(\"href\")) != null ? i : e.getAttribute(\"xlink:href\");\n  if (!a)\n    return [];\n  const [s, o] = a.split(\"#\");\n  if (o) {\n    const l = `#${o}`, u = r == null ? void 0 : r.querySelector(`svg ${l}`);\n    if (s && e.setAttribute(\"href\", l), n != null && n.querySelector(l))\n      return [];\n    if (u)\n      return [\n        q(u, t).then((c) => {\n          n != null && n.querySelector(l) || n == null || n.appendChild(c);\n        })\n      ];\n    if (s)\n      return [\n        _(t, {\n          url: s,\n          responseType: \"text\"\n        }).then((c) => {\n          n == null || n.insertAdjacentHTML(\"beforeend\", c);\n        })\n      ];\n  }\n  return [];\n}\nfunction Fe(e, t) {\n  const { tasks: r } = t;\n  A(e) && ((D(e) || ye(e)) && r.push(...Ot(e, t)), Ge(e) && r.push(...jt(e, t))), G(e) && r.push(...qt(e.style, t)), e.childNodes.forEach((n) => {\n    Fe(n, t);\n  });\n}\nfunction Vt(e, t) {\n  return S(this, null, function* () {\n    const r = yield N(e, t);\n    if (A(r.node) && U(r.node))\n      return r.node;\n    const {\n      ownerDocument: n,\n      log: a,\n      tasks: s,\n      svgStyleElement: o,\n      svgDefsElement: i,\n      svgStyles: l,\n      font: u,\n      progress: c,\n      autoDestruct: f,\n      onCloneNode: d,\n      onEmbedNode: g,\n      onCreateForeignObjectSvg: h\n    } = r;\n    a.time(\"clone node\");\n    const w = yield q(r.node, r, !0);\n    if (o && n) {\n      let C = \"\";\n      l.forEach((v, I) => {\n        C += `${v.join(`,\n`)} {\n  ${I}\n}\n`;\n      }), o.appendChild(n.createTextNode(C));\n    }\n    a.timeEnd(\"clone node\"), d == null || d(w), u !== !1 && A(w) && (a.time(\"embed web font\"), yield Pt(w, r), a.timeEnd(\"embed web font\")), a.time(\"embed node\"), Fe(w, r);\n    const y = s.length;\n    let m = 0;\n    const b = () => S(this, null, function* () {\n      for (; ; ) {\n        const C = s.pop();\n        if (!C)\n          break;\n        try {\n          yield C;\n        } catch (v) {\n          E(\"Failed to run task\", v);\n        }\n        c == null || c(++m, y);\n      }\n    });\n    c == null || c(m, y), yield Promise.all([...Array(4)].map(b)), a.timeEnd(\"embed node\"), g == null || g(w);\n    const p = Ht(w, r);\n    return i && p.insertBefore(i, p.children[0]), o && p.insertBefore(o, p.children[0]), f && Dt(r), h == null || h(p), p;\n  });\n}\nfunction Ht(e, t) {\n  const { width: r, height: n } = t, a = Se(r, n, e.ownerDocument), s = a.ownerDocument.createElementNS(a.namespaceURI, \"foreignObject\");\n  return s.setAttributeNS(null, \"x\", \"0%\"), s.setAttributeNS(null, \"y\", \"0%\"), s.setAttributeNS(null, \"width\", \"100%\"), s.setAttributeNS(null, \"height\", \"100%\"), s.append(e), a.appendChild(s), a;\n}\nfunction Y(e, t) {\n  return S(this, null, function* () {\n    var o;\n    const r = yield N(e, t), n = yield Vt(r), a = Ee(n, r.isEnable(\"removeControlCharacter\"));\n    r.autoDestruct || (r.svgStyleElement = Ae(r.ownerDocument), r.svgDefsElement = (o = r.ownerDocument) == null ? void 0 : o.createElementNS(W, \"defs\"), r.svgStyles.clear());\n    const s = k(a, n.ownerDocument);\n    return yield wt(s, r);\n  });\n}\nfunction Gt(e, t) {\n  return S(this, null, function* () {\n    const r = yield N(e, t), { log: n, type: a, quality: s, dpi: o } = r, i = yield Y(r);\n    n.time(\"canvas to blob\");\n    const l = yield it(i, a, s);\n    if ([\"image/png\", \"image/jpeg\"].includes(a) && o) {\n      const u = yield ut(l.slice(0, 33));\n      let c = new Uint8Array(u);\n      return a === \"image/png\" ? c = he(c, o) : a === \"image/jpeg\" && (c = ue(c, o)), n.timeEnd(\"canvas to blob\"), new Blob([c, l.slice(33)], { type: a });\n    }\n    return n.timeEnd(\"canvas to blob\"), l;\n  });\n}\nfunction P(e, t) {\n  return S(this, null, function* () {\n    const r = yield N(e, t), { log: n, quality: a, type: s, dpi: o } = r, i = yield Y(r);\n    n.time(\"canvas to data url\");\n    let l = i.toDataURL(s, a);\n    if ([\"image/png\", \"image/jpeg\"].includes(s) && o && we && Ve) {\n      const [u, c] = l.split(\",\");\n      let f = 0, d = !1;\n      if (s === \"image/png\") {\n        const p = qe(c);\n        p >= 0 ? (f = Math.ceil((p + 28) / 3) * 4, d = !0) : f = 33 / 3 * 4;\n      } else\n        s === \"image/jpeg\" && (f = 18 / 3 * 4);\n      const g = c.substring(0, f), h = c.substring(f), w = window.atob(g), y = new Uint8Array(w.length);\n      for (let p = 0; p < y.length; p++)\n        y[p] = w.charCodeAt(p);\n      const m = s === \"image/png\" ? he(y, o, d) : ue(y, o), b = window.btoa(String.fromCharCode(...m));\n      l = [u, \",\", b, h].join(\"\");\n    }\n    return n.timeEnd(\"canvas to data url\"), l;\n  });\n}\nfunction zt(e, t) {\n  return S(this, null, function* () {\n    const r = yield N(e, t), { width: n, height: a, ownerDocument: s } = r, o = yield P(r), i = Se(n, a, s), l = i.ownerDocument.createElementNS(i.namespaceURI, \"image\");\n    return l.setAttributeNS(null, \"href\", o), l.setAttributeNS(null, \"height\", \"100%\"), l.setAttributeNS(null, \"width\", \"100%\"), i.appendChild(l), Ee(i, r.isEnable(\"removeControlCharacter\"));\n  });\n}\nfunction Yt(e, t) {\n  return S(this, null, function* () {\n    const r = yield N(e, t), { ownerDocument: n, width: a, height: s, scale: o, type: i } = r, l = i === \"image/svg+xml\" ? yield zt(r) : yield P(r), u = k(l, n);\n    return u.width = Math.floor(a * o), u.height = Math.floor(s * o), u.style.width = `${a}px`, u.style.height = `${s}px`, u;\n  });\n}\nfunction Jt(e, t) {\n  return S(this, null, function* () {\n    return P(\n      yield N(e, R(T({}, t), { type: \"image/jpeg\" }))\n    );\n  });\n}\nfunction Kt(e, t) {\n  return S(this, null, function* () {\n    const r = yield N(e, t), n = yield Y(r);\n    return n.getContext(\"2d\").getImageData(0, 0, n.width, n.height).data;\n  });\n}\nfunction Qt(e, t) {\n  return S(this, null, function* () {\n    return P(\n      yield N(e, R(T({}, t), { type: \"image/png\" }))\n    );\n  });\n}\nfunction Zt(e, t) {\n  return S(this, null, function* () {\n    return P(\n      yield N(e, R(T({}, t), { type: \"image/webp\" }))\n    );\n  });\n}\nexport {\n  mt as createContext,\n  Dt as destroyContext,\n  Gt as domToBlob,\n  Y as domToCanvas,\n  P as domToDataUrl,\n  Vt as domToForeignObjectSvg,\n  Yt as domToImage,\n  Jt as domToJpeg,\n  Kt as domToPixel,\n  Qt as domToPng,\n  zt as domToSvg,\n  Zt as domToWebp,\n  F as loadMedia,\n  ft as waitUntilLoad\n};\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport PostControls from 'flarum/forum/utils/PostControls';\nimport Button from 'flarum/common/components/Button';\nimport { domToPng } from 'modern-screenshot'\n\napp.initializers.add('tohsakarat-postCamera', () => {\n  function trimUrl(url) {\n    // 分割 URL 以'/d/'为界\n                var parts = url.split('/d/');\n              \n                // 检查是否正确分割成两部分\n                if (parts.length === 2) {\n                  // 分割第二部分以'-'为界，以获取第一个'-'之前的所有内容\n                  var subParts = parts[1].split('-');\n              \n                  // 检查是否正确分割\n                  if (subParts.length > 1) { \n                    // 重建 URL，只包括'/d/'之前的部分和第一个'-'之前的部分\n                    return parts[0] + '/d/' + subParts[0];\n                  }\n                }\n              \n                // 如果原始URL不符合预期的格式，返回未修改的URL\n                return url;\n          }\n\n    window.canSave=true;\n \n  //拓展发帖界面\n  extend(PostControls, 'userControls', function (items, post) {\n    const postUrl = app.forum.attribute('baseUrl') + app.route.post(post);\n\n    items.add(\n      'screen-shot',\n      Button.component(\n        {         \n          disable: (!canSave),\n          icon: 'fas fa-camera',\n          class: canSave? '':\"disabled\",\n          \n          onclick: () => {\n              if(!canSave){\n                m.redraw();\n                return;}\n              \n            window.cameraCurProgress='⏳⏳⏳';\n            window.canSave=false;\n            console.log('======保存截图======')\n            console.log(this);\n            var node=document.querySelector( '.PostStream-item[data-id=\"'+ post.data.id+'\"] ')\n            \n            var box = document.createElement('div');\n            box.className='temp-screenShot-box'\n            \n            var outerBox = document.createElement('div');\n            outerBox.className='temp-screenShot-outer-box'\n            \n            var node1=node.cloneNode(true)\n            node1.className+=' temp-screenShot'\n            \n            // 创建第一个 div 元素并设置类名 'coverAll'\n            var firstDiv = document.createElement('div');\n            firstDiv.className = 'coverAll';\n            \n\n\n            // 创建第一个信息标签\n            var infoDiv = document.createElement('div');\n            infoDiv.className = 'temp-screenShot-info';\n            infoDiv.innerHTML= \"<b class='from'> 👉  </b>\"+trimUrl(postUrl) +\" \"+app.forum.data.attributes.title+\"<br / >\"+app?.session?.user?.data?.morseCode;\n            \n           // box.appendChild(firstDiv);\n           \n            box.appendChild( infoDiv )\n            box.appendChild( node1 )\n            outerBox.appendChild(box)\n            node.appendChild(outerBox)\n            box.querySelectorAll(\"img[loading='lazy']\").forEach((img)=>{\n              img.removeAttribute('loading')\n              img.removeAttribute('importance')\n            })\n\n\n\n            setTimeout(() => {\n                domToPng(box,{\n                  quality:window.isPC?16:8,\n                  debug: true,\n                  progress: (current, total) => {\n                    window.canSave=false;\n                    m.redraw();\n                    console.log(`${ current }/${ total }`)\n                    window.cameraCurProgress=`${ current }/${ total }`\n                  }\n                }).then(dataUrl => {\n              const link = document.createElement('a')\n              link.download = \"screenShot\"+app.forum.data.attributes.title+ app.route.post(post)+'.png'\n              link.href = dataUrl\n              link.click()\n              window.canSave=true;\n              m.redraw();\n              node.removeChild(outerBox)\n            })\n\n            },100)\n\n            \n          },\n        },\n        window.canSave ?  app.translator.trans('tohsakarat-post-camera.lib.scan-post'): window.cameraCurProgress\n      )\n    );\n  \n  });\n\n  \n  //拓展整个帖子\n  extend(DiscussionControls, 'userControls', function (items, discussion) {\n    const discussionUrl = app.forum.attribute('baseUrl') + app.route.discussion(discussion);\n    ;\n  \n    items.add(\n      'screen-shot',\n      Button.component(\n        {\n          disable: (!canSave),\n          icon: 'fas fa-camera',\n          class: canSave? '':\"disabled\",\n          \n          onclick: () => {\n            if(!canSave){\n              m.redraw();\n              return;}\n            window.cameraCurProgress='⏳⏳⏳';\n            window.canSave=false;\n            console.log('======保存截图======')\n            console.log(this);\n            var node=document.querySelector( '.DiscussionPage-discussion')\n            \n            var box = document.createElement('div');\n            box.className='temp-screenShot-box'\n            \n            var outerBox = document.createElement('div');\n            outerBox.className='temp-screenShot-outer-box'\n            \n            var node1=node.cloneNode(true)\n            node1.className+=' temp-screenShot'\n            \n            // 创建第一个 div 元素并设置类名 'coverAll'\n            var firstDiv = document.createElement('div');\n            firstDiv.className = 'coverAll';\n            \n\n\n            // 创建第一个信息标签\n            var infoDiv = document.createElement('div');\n            infoDiv.className = 'temp-screenShot-info';\n            infoDiv.innerHTML= \"<b class='from'> 👉  </b>\"+trimUrl(discussionUrl) +\" \"+app.forum.data.attributes.title+\"<br / >\"+app?.session?.user?.data?.morseCode;;\n            \n            //box.appendChild(firstDiv);\n           \n            box.appendChild( infoDiv )\n            box.appendChild( node1 )\n            outerBox.appendChild(box)\n            node.appendChild(outerBox)\n            box.querySelectorAll(\"img[loading='lazy']\").forEach((img)=>{\n              img.removeAttribute('loading')\n              img.removeAttribute('importance')\n            })\n            setTimeout(() => {\n                domToPng(box,{\n                  quality:window.isPC?8:4,\n                  debug: true,\n                  progress: (current, total) => {\n                    window.canSave=false;\n                    m.redraw();\n                    console.log(`${ current }/${ total }`)\n                    window.cameraCurProgress=`${ current }/${ total }`\n                  }\n                }).then(dataUrl => {\n              const link = document.createElement('a')\n              link.download = \"screenShot\"+app.forum.data.attributes.title+'.png'\n              link.href = dataUrl\n              link.click()\n              window.canSave=true;\n              m.redraw();\n            node.removeChild(outerBox)\n            })\n            }, 100);\n\n            \n          },\n        },\n        window.canSave ?  app.translator.trans('tohsakarat-post-camera.lib.scan-post'): window.cameraCurProgress\n      )\n    );\n  \n  });\n\n  \n});\n\n\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_e","Ue","defineProperties","Pe","getOwnPropertyDescriptors","B","getOwnPropertySymbols","Z","ee","propertyIsEnumerable","te","Math","pow","Q","e","t","r","configurable","writable","T","R","re","n","indexOf","S","Promise","s","l","i","next","u","throw","done","resolve","then","apply","fe","charCodeAt","de","ge","me","j","he","Uint8Array","Int32Array","$e","length","Be","Le","set","Me","Oe","We","H","x","window","je","we","Ve","le","z","navigator","userAgent","pe","includes","L","X","He","ze","constructor","name","Xe","A","nodeType","U","className","ye","tagName","Ge","G","style","Ye","Je","D","M","Ke","ne","Qe","Ze","et","tt","rt","nt","E","console","warn","ot","time","at","timeEnd","st","createElement","height","width","Boolean","toDataURL","V","startsWith","be","match","location","protocol","O","implementation","createHTMLDocument","head","appendChild","body","href","ownerDocument","document","W","lt","FileReader","onload","result","onerror","error","onabort","Error","readAsDataURL","readAsArrayBuffer","Ce","k","decoding","loading","src","F","timeout","onError","clearTimeout","setTimeout","c","currentSrc","poster","readyState","f","g","removeEventListener","addEventListener","once","baseVal","this","decode","dataset","originalSrc","complete","ve","random","toString","slice","Te","split","map","trim","replace","toLowerCase","filter","dt","gt","cache","N","h","w","y","m","scale","workerUrl","workerNumber","debug","features","defaultView","Map","quality","type","backgroundColor","maximumCanvasSize","progress","fetch","requestInit","bypassingCache","placeholderImage","fetchFn","font","drawImageInterval","onCloneNode","onEmbedNode","onCreateForeignObjectSvg","includeStyleProperties","autoDestruct","__CONTEXT__","log","node","ownerWindow","dpi","svgStyleElement","Ae","svgDefsElement","createElementNS","svgStyles","defaultComputedStyles","workers","Array","b","Worker","onmessage","p","I","J","$","K","url","C","v","data","reject","onmessageerror","fontFamilies","Set","fontCssTexts","acceptOfImage","join","requests","drawImageCount","tasks","isEnable","all","flatMap","from","querySelectorAll","ft","getBoundingClientRect","Number","getAttribute","ht","mt","createTextNode","yt","bt","Ne","nodeName","has","sandbox","id","visibility","position","contentWindow","write","namespaceURI","forEach","setAttributeNS","textContent","getComputedStyle","item","getPropertyValue","removeChild","Ie","getPropertyPriority","lastIndexOf","substring","push","St","Et","xe","cloneNode","getContext","putImageData","getImageData","oe","ae","currentParentNodeStyle","currentNodeStyle","q","se","shadowRoot","firstChild","nextSibling","assignedNodes","Rt","contentDocument","At","srcset","It","crossOrigin","currentTime","offsetWidth","offsetHeight","drawImage","Nt","xt","getAttributeNames","test","removeAttribute","delete","classList","add","scrollWidth","clientWidth","setProperty","Tt","kt","scrollHeight","clientHeight","Ct","innerHTML","setAttribute","vt","_","requestType","responseType","imageDom","RegExp","Date","getTime","headers","accept","response","size","postMessage","rawUrl","AbortController","abort","signal","ok","cause","blob","text","finally","Ft","catch","ke","Re","De","_t","Ut","$t","ie","Lt","Mt","ce","preferredFormat","exec","Wt","Fe","Ot","querySelector","insertAdjacentHTML","jt","qt","childNodes","Vt","cssText","styleSheets","cssRules","lastIndex","Bt","insertRule","rule","some","parentStyleSheet","Pt","pop","Se","append","Ht","insertBefore","children","clear","remove","Dt","Y","XMLSerializer","serializeToString","encodeURIComponent","Ee","canvas","context2d","floor","fillStyle","fillRect","pt","wt","Qt","qe","ceil","atob","ue","btoa","String","fromCharCode","P","app","trimUrl","parts","subParts","canSave","extend","PostControls","items","post","_this","postUrl","attribute","Button","disable","icon","class","onclick","_app$session","cameraCurProgress","box","outerBox","node1","infoDiv","attributes","title","user","morseCode","img","domToPng","isPC","current","total","redraw","dataUrl","link","download","click","trans","DiscussionControls","discussion","_this2","discussionUrl","_app$session2"],"sourceRoot":""}